<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array Analyzer</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        input { padding: 10px; width: 70%; font-size: 16px; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; background: #28a745; color: white; border: none; }
        button:hover { background: #218838; }
        .result-box { margin-top: 20px; border: 1px solid #ccc; padding: 15px; border-radius: 5px; background: #f8f9fa; }
        .error { color: red; font-weight: bold; }
    </style>
</head>
<body>

    <h2>Find Min/Max & Second Min/Max</h2>
    <p>Enter numbers separated by commas (e.g., 10, 5, 100, 2):</p>
    
    <div>
        <input type="text" id="userInput" placeholder="10, 20, 5, 99...">
        <button onclick="analyzeArray()">Analyze</button>
    </div>

    <div id="displayArea" class="result-box" style="display:none;">
        <p><strong>Sorted Array (Unique):</strong> <span id="sortedArr"></span></p>
        <hr>
        <p>游릭 Largest: <b id="lrg"></b></p>
        <p>游릭 Second Largest: <b id="slrg"></b></p>
        <p>游댮 Smallest: <b id="sml"></b></p>
        <p>游댮 Second Smallest: <b id="ssml"></b></p>
    </div>

    <script>
        function analyzeArray() {
            const input = document.getElementById("userInput").value;
            const display = document.getElementById("displayArea");

            // 1. Convert string "10, 20" into array of numbers [10, 20]
            // We split by comma, trim whitespace, and convert to Number
            let arr = input.split(',').map(item => Number(item.trim()));

            // 2. Filter out bad inputs (NaN) in case user typed "abc"
            arr = arr.filter(item => !isNaN(item));

            // 3. Remove duplicates using Set and Sort numerically
            // NOTE: (a-b) is needed because default sort is alphabetical
            let uniqueSorted = [...new Set(arr)].sort((a, b) => a - b);

            // Validation: Need at least 2 numbers
            if (uniqueSorted.length < 2) {
                display.style.display = "block";
                display.innerHTML = "<span class='error'>Please enter at least 2 distinct numbers.</span>";
                return;
            }

            // 4. Extract values
            let n = uniqueSorted.length;
            let smallest = uniqueSorted[0];
            let secondSmallest = uniqueSorted[1];
            let largest = uniqueSorted[n - 1];
            let secondLargest = uniqueSorted[n - 2];

            // 5. Display results
            // Reset the HTML structure in case error message was shown previously
            display.innerHTML = `
                <p><strong>Sorted Array (Unique):</strong> <span id="sortedArr"></span></p>
                <hr>
                <p>游릭 Largest: <b id="lrg"></b></p>
                <p>游릭 Second Largest: <b id="slrg"></b></p>
                <p>游댮 Smallest: <b id="sml"></b></p>
                <p>游댮 Second Smallest: <b id="ssml"></b></p>
            `;

            document.getElementById("sortedArr").innerText = uniqueSorted.join(", ");
            document.getElementById("lrg").innerText = largest;
            document.getElementById("slrg").innerText = secondLargest;
            document.getElementById("sml").innerText = smallest;
            document.getElementById("ssml").innerText = secondSmallest;
            
            display.style.display = "block";
        }
    </script>
</body>
</html>